{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jenni.mikkonen\\\\OneDrive - LightningChart Ltd\\\\Repos\\\\lcjs-dashboard\\\\frontend\\\\src\\\\components\\\\charts\\\\GaugeChart.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext, useId } from \"react\";\nimport { LCContext } from \"../../LC\";\nimport { ColorCSS, ColorHEX, Themes } from \"@lightningchart/lcjs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GaugeChart(props) {\n  _s();\n  const {\n    data\n  } = props.data;\n  // const data = props.data;\n  const number = props.number;\n  const title = props.title;\n  // console.log('GaugeChart data', data);\n  // console.log('GaugeChart title', title);\n  // console.log('GaugeChart number', number);\n  const id = useId();\n  const lc = useContext(LCContext);\n  const [gauge, setGauge] = useState(undefined);\n\n  // Create chart just once during lifecycle of component\n  useEffect(() => {\n    const container = document.getElementById(id);\n    if (!container) return;\n    if (!lc) {\n      console.log(\"LC context not ready yet\");\n      return;\n    }\n    const gauge = lc.Gauge({\n      container,\n      // Add container to gauge creation\n      theme: Themes.cyberSpace\n    });\n    gauge.setTitle('').setGapBetweenBarAndValueIndicators(2).setTickFormatter(value => {\n      if (value === gauge.getInterval().start || value === gauge.getInterval().end) {\n        return '';\n      }\n      return `${value}`;\n    }).setGlowColor(undefined);\n\n    // Scale the gauge automatically based on screen size\n    gauge.addEventListener('resize', event => {\n      const size = Math.min(event.width, event.height);\n      gauge.setBarThickness(size / 10).setNeedleLength(gauge.getBarThickness() * 2).setValueIndicatorThickness(gauge.getBarThickness() / 3).setNeedleThickness(gauge.getBarThickness() / 10);\n      const fontSizeBig = Math.round(size / 10);\n      const fontSizeSmaller = Math.round(size / 20);\n      gauge.setUnitLabelFont(font => font.setSize(fontSizeSmaller));\n      gauge.setTickFont(font => font.setSize(fontSizeSmaller));\n      gauge.setValueLabelFont(font => font.setSize(fontSizeBig));\n    });\n    setGauge(gauge);\n    return () => {\n      // Destroy chart when component lifecycle ends\n      gauge.dispose();\n    };\n  }, [id, lc]);\n\n  // Update gauge data whenever data prop changes\n  useEffect(() => {\n    if (!gauge || data === undefined || gauge.isDisposed()) return;\n    if (title === \"Body Temperature\") {\n      // Scale gauge range to match body temperature (35-39°C)\n      gauge.setAngleInterval(180, 0).setInterval(34.5, 39).setValueIndicators([{\n        start: 34.5,\n        end: 36.0,\n        color: ColorHEX(\"#5262b0ff\"),\n        startLabel: '',\n        endLabel: ''\n      }, {\n        start: 36.0,\n        end: 37.5,\n        color: ColorHEX(\"#5ec69cff\"),\n        startLabel: '',\n        endLabel: ''\n      }, {\n        start: 37.5,\n        end: 39,\n        color: ColorHEX(\"#932f2fff\"),\n        startLabel: '',\n        endLabel: ''\n      }]);\n    }\n    if (title === \"Stress Level\") {\n      gauge.setInterval(0, 100).setValueIndicators([{\n        start: 0,\n        end: 33,\n        color: ColorHEX(\"#5ec69cff\"),\n        startLabel: '',\n        endLabel: ''\n      }, {\n        start: 33,\n        end: 66,\n        color: ColorHEX(\"#8752b0ff\"),\n        startLabel: '',\n        endLabel: ''\n      }, {\n        start: 66,\n        end: 100,\n        color: ColorHEX(\"#932f2fff\"),\n        startLabel: '',\n        endLabel: ''\n      }]);\n    }\n    gauge.setValue(data);\n  }, [gauge, data, title]);\n\n  // Whenever props.title changes, it is reapplied to existing chart without recreating it\n  useEffect(() => {\n    if (!gauge) return;\n    gauge.setTitle(title);\n  }, [gauge, title]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: id,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 10\n  }, this);\n}\n_s(GaugeChart, \"fg+cW/7Wadz4TxOlHnrEErbLAuU=\", false, function () {\n  return [useId];\n});\n_c = GaugeChart;\nvar _c;\n$RefreshReg$(_c, \"GaugeChart\");","map":{"version":3,"names":["useEffect","useState","useContext","useId","LCContext","ColorCSS","ColorHEX","Themes","jsxDEV","_jsxDEV","GaugeChart","props","_s","data","number","title","id","lc","gauge","setGauge","undefined","container","document","getElementById","console","log","Gauge","theme","cyberSpace","setTitle","setGapBetweenBarAndValueIndicators","setTickFormatter","value","getInterval","start","end","setGlowColor","addEventListener","event","size","Math","min","width","height","setBarThickness","setNeedleLength","getBarThickness","setValueIndicatorThickness","setNeedleThickness","fontSizeBig","round","fontSizeSmaller","setUnitLabelFont","font","setSize","setTickFont","setValueLabelFont","dispose","isDisposed","setAngleInterval","setInterval","setValueIndicators","color","startLabel","endLabel","setValue","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/jenni.mikkonen/OneDrive - LightningChart Ltd/Repos/lcjs-dashboard/frontend/src/components/charts/GaugeChart.jsx"],"sourcesContent":["import { useEffect, useState, useContext, useId } from \"react\";\r\nimport { LCContext } from \"../../LC\";\r\nimport { ColorCSS, ColorHEX, Themes } from \"@lightningchart/lcjs\";\r\n\r\nexport default function GaugeChart(props) {\r\n  const { data } = props.data;\r\n  // const data = props.data;\r\n  const number = props.number;\r\n  const title = props.title;\r\n  // console.log('GaugeChart data', data);\r\n  // console.log('GaugeChart title', title);\r\n  // console.log('GaugeChart number', number);\r\n  const id = useId();\r\n  const lc = useContext(LCContext);\r\n  const [gauge, setGauge] = useState(undefined);\r\n\r\n  // Create chart just once during lifecycle of component\r\n  useEffect(() => {\r\n    const container = document.getElementById(id);\r\n    if (!container) return\r\n    if (!lc) {\r\n      console.log(\"LC context not ready yet\");\r\n      return\r\n    }\r\n    const gauge = lc.Gauge({\r\n      container, // Add container to gauge creation\r\n      theme: Themes.cyberSpace,\r\n    });\r\n    gauge\r\n      .setTitle('')\r\n      .setGapBetweenBarAndValueIndicators(2)\r\n      .setTickFormatter((value) => {\r\n        if (value === gauge.getInterval().start || value === gauge.getInterval().end) {\r\n            return ''\r\n        }\r\n        return `${value}`\r\n      })\r\n      .setGlowColor(undefined)\r\n\r\n      // Scale the gauge automatically based on screen size\r\n      gauge.addEventListener('resize', (event) => {\r\n        const size = Math.min(event.width, event.height)\r\n        gauge\r\n            .setBarThickness(size / 10)\r\n            .setNeedleLength(gauge.getBarThickness() * 2)\r\n            .setValueIndicatorThickness(gauge.getBarThickness() / 3)\r\n            .setNeedleThickness(gauge.getBarThickness() / 10)\r\n        const fontSizeBig = Math.round(size / 10)\r\n        const fontSizeSmaller = Math.round(size / 20)\r\n        gauge.setUnitLabelFont((font) => font.setSize(fontSizeSmaller))\r\n        gauge.setTickFont((font) => font.setSize(fontSizeSmaller))\r\n        gauge.setValueLabelFont((font) => font.setSize(fontSizeBig))\r\n      });\r\n    \r\n    setGauge(gauge);\r\n    return () => {\r\n      // Destroy chart when component lifecycle ends\r\n      gauge.dispose();\r\n    };\r\n  }, [id, lc]); \r\n\r\n  // Update gauge data whenever data prop changes\r\n  useEffect(() => {\r\n    if (!gauge || data === undefined || gauge.isDisposed()) return\r\n    \r\n    if (title === \"Body Temperature\") {\r\n      // Scale gauge range to match body temperature (35-39°C)\r\n      gauge\r\n      .setAngleInterval(180, 0)\r\n      .setInterval(34.5, 39)\r\n      .setValueIndicators([\r\n        { start: 34.5, end: 36.0, color: ColorHEX((\"#5262b0ff\")), startLabel: '', endLabel: ''  },\r\n        { start: 36.0, end: 37.5, color: ColorHEX((\"#5ec69cff\")), startLabel: '', endLabel: '' },\r\n        { start: 37.5, end: 39, color: ColorHEX((\"#932f2fff\")), startLabel: '', endLabel: '' },\r\n      ]);\r\n    }\r\n    if(title === \"Stress Level\") {\r\n      gauge\r\n      .setInterval(0, 100)\r\n      .setValueIndicators([\r\n          { start: 0, end: 33, color: ColorHEX((\"#5ec69cff\")), startLabel: '', endLabel: ''  },\r\n          { start: 33, end: 66, color: ColorHEX((\"#8752b0ff\")), startLabel: '', endLabel: '' },\r\n          { start: 66, end: 100, color: ColorHEX((\"#932f2fff\")), startLabel: '', endLabel: '' },\r\n      ])\r\n    }\r\n    gauge.setValue(data)\r\n  }, [gauge, data, title]);\r\n\r\n  // Whenever props.title changes, it is reapplied to existing chart without recreating it\r\n  useEffect(() => {\r\n    if (!gauge) return\r\n    gauge.setTitle(title)\r\n  }, [gauge, title]);\r\n\r\n  return <div id={id} style={{ width: \"100%\", height: \"100%\" }}></div>;\r\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,KAAK,QAAQ,OAAO;AAC9D,SAASC,SAAS,QAAQ,UAAU;AACpC,SAASC,QAAQ,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElE,eAAe,SAASC,UAAUA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACxC,MAAM;IAAEC;EAAK,CAAC,GAAGF,KAAK,CAACE,IAAI;EAC3B;EACA,MAAMC,MAAM,GAAGH,KAAK,CAACG,MAAM;EAC3B,MAAMC,KAAK,GAAGJ,KAAK,CAACI,KAAK;EACzB;EACA;EACA;EACA,MAAMC,EAAE,GAAGb,KAAK,CAAC,CAAC;EAClB,MAAMc,EAAE,GAAGf,UAAU,CAACE,SAAS,CAAC;EAChC,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAACmB,SAAS,CAAC;;EAE7C;EACApB,SAAS,CAAC,MAAM;IACd,MAAMqB,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAACP,EAAE,CAAC;IAC7C,IAAI,CAACK,SAAS,EAAE;IAChB,IAAI,CAACJ,EAAE,EAAE;MACPO,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MACvC;IACF;IACA,MAAMP,KAAK,GAAGD,EAAE,CAACS,KAAK,CAAC;MACrBL,SAAS;MAAE;MACXM,KAAK,EAAEpB,MAAM,CAACqB;IAChB,CAAC,CAAC;IACFV,KAAK,CACFW,QAAQ,CAAC,EAAE,CAAC,CACZC,kCAAkC,CAAC,CAAC,CAAC,CACrCC,gBAAgB,CAAEC,KAAK,IAAK;MAC3B,IAAIA,KAAK,KAAKd,KAAK,CAACe,WAAW,CAAC,CAAC,CAACC,KAAK,IAAIF,KAAK,KAAKd,KAAK,CAACe,WAAW,CAAC,CAAC,CAACE,GAAG,EAAE;QAC1E,OAAO,EAAE;MACb;MACA,OAAO,GAAGH,KAAK,EAAE;IACnB,CAAC,CAAC,CACDI,YAAY,CAAChB,SAAS,CAAC;;IAExB;IACAF,KAAK,CAACmB,gBAAgB,CAAC,QAAQ,EAAGC,KAAK,IAAK;MAC1C,MAAMC,IAAI,GAAGC,IAAI,CAACC,GAAG,CAACH,KAAK,CAACI,KAAK,EAAEJ,KAAK,CAACK,MAAM,CAAC;MAChDzB,KAAK,CACA0B,eAAe,CAACL,IAAI,GAAG,EAAE,CAAC,CAC1BM,eAAe,CAAC3B,KAAK,CAAC4B,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,CAC5CC,0BAA0B,CAAC7B,KAAK,CAAC4B,eAAe,CAAC,CAAC,GAAG,CAAC,CAAC,CACvDE,kBAAkB,CAAC9B,KAAK,CAAC4B,eAAe,CAAC,CAAC,GAAG,EAAE,CAAC;MACrD,MAAMG,WAAW,GAAGT,IAAI,CAACU,KAAK,CAACX,IAAI,GAAG,EAAE,CAAC;MACzC,MAAMY,eAAe,GAAGX,IAAI,CAACU,KAAK,CAACX,IAAI,GAAG,EAAE,CAAC;MAC7CrB,KAAK,CAACkC,gBAAgB,CAAEC,IAAI,IAAKA,IAAI,CAACC,OAAO,CAACH,eAAe,CAAC,CAAC;MAC/DjC,KAAK,CAACqC,WAAW,CAAEF,IAAI,IAAKA,IAAI,CAACC,OAAO,CAACH,eAAe,CAAC,CAAC;MAC1DjC,KAAK,CAACsC,iBAAiB,CAAEH,IAAI,IAAKA,IAAI,CAACC,OAAO,CAACL,WAAW,CAAC,CAAC;IAC9D,CAAC,CAAC;IAEJ9B,QAAQ,CAACD,KAAK,CAAC;IACf,OAAO,MAAM;MACX;MACAA,KAAK,CAACuC,OAAO,CAAC,CAAC;IACjB,CAAC;EACH,CAAC,EAAE,CAACzC,EAAE,EAAEC,EAAE,CAAC,CAAC;;EAEZ;EACAjB,SAAS,CAAC,MAAM;IACd,IAAI,CAACkB,KAAK,IAAIL,IAAI,KAAKO,SAAS,IAAIF,KAAK,CAACwC,UAAU,CAAC,CAAC,EAAE;IAExD,IAAI3C,KAAK,KAAK,kBAAkB,EAAE;MAChC;MACAG,KAAK,CACJyC,gBAAgB,CAAC,GAAG,EAAE,CAAC,CAAC,CACxBC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CACrBC,kBAAkB,CAAC,CAClB;QAAE3B,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE,IAAI;QAAE2B,KAAK,EAAExD,QAAQ,CAAE,WAAY,CAAC;QAAEyD,UAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAI,CAAC,EACzF;QAAE9B,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE,IAAI;QAAE2B,KAAK,EAAExD,QAAQ,CAAE,WAAY,CAAC;QAAEyD,UAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG,CAAC,EACxF;QAAE9B,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE,EAAE;QAAE2B,KAAK,EAAExD,QAAQ,CAAE,WAAY,CAAC;QAAEyD,UAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG,CAAC,CACvF,CAAC;IACJ;IACA,IAAGjD,KAAK,KAAK,cAAc,EAAE;MAC3BG,KAAK,CACJ0C,WAAW,CAAC,CAAC,EAAE,GAAG,CAAC,CACnBC,kBAAkB,CAAC,CAChB;QAAE3B,KAAK,EAAE,CAAC;QAAEC,GAAG,EAAE,EAAE;QAAE2B,KAAK,EAAExD,QAAQ,CAAE,WAAY,CAAC;QAAEyD,UAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAI,CAAC,EACpF;QAAE9B,KAAK,EAAE,EAAE;QAAEC,GAAG,EAAE,EAAE;QAAE2B,KAAK,EAAExD,QAAQ,CAAE,WAAY,CAAC;QAAEyD,UAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG,CAAC,EACpF;QAAE9B,KAAK,EAAE,EAAE;QAAEC,GAAG,EAAE,GAAG;QAAE2B,KAAK,EAAExD,QAAQ,CAAE,WAAY,CAAC;QAAEyD,UAAU,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG,CAAC,CACxF,CAAC;IACJ;IACA9C,KAAK,CAAC+C,QAAQ,CAACpD,IAAI,CAAC;EACtB,CAAC,EAAE,CAACK,KAAK,EAAEL,IAAI,EAAEE,KAAK,CAAC,CAAC;;EAExB;EACAf,SAAS,CAAC,MAAM;IACd,IAAI,CAACkB,KAAK,EAAE;IACZA,KAAK,CAACW,QAAQ,CAACd,KAAK,CAAC;EACvB,CAAC,EAAE,CAACG,KAAK,EAAEH,KAAK,CAAC,CAAC;EAElB,oBAAON,OAAA;IAAKO,EAAE,EAAEA,EAAG;IAACkD,KAAK,EAAE;MAAExB,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAO;EAAE;IAAAwB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACtE;AAAC1D,EAAA,CA3FuBF,UAAU;EAAA,QAQrBP,KAAK;AAAA;AAAAoE,EAAA,GARM7D,UAAU;AAAA,IAAA6D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}