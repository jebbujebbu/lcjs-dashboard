{"ast":null,"code":"var _jsxFileName = \"D:\\\\Repos\\\\lcjs-dashboard\\\\frontend\\\\src\\\\components\\\\charts\\\\BarChart.jsx\",\n  _s = $RefreshSig$();\nimport { Themes, emptyFill } from \"@lightningchart/lcjs\";\nimport { useEffect, useState, useContext, useId } from \"react\";\nimport { LCContext } from \"../../LC\";\nimport TransparentCyberSpaceTheme from \"../utils/TransparentCyberSpaceTheme.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BarChart(props) {\n  _s();\n  const {\n    data\n  } = props.data;\n  const barTitle = props.title;\n  const id = useId();\n  const lc = useContext(LCContext);\n  const [barChart, setBarChart] = useState(undefined);\n\n  // Create chart just once during lifecycle of component.\n  useEffect(() => {\n    const container = document.getElementById(id);\n    if (!container) return;\n    if (!lc) {\n      console.log(\"LC context not ready yet\");\n      return;\n    }\n    const chart = lc.BarChart({\n      theme: TransparentCyberSpaceTheme,\n      container,\n      legend: {\n        addEntriesAutomatically: false\n      }\n    });\n    chart.setTitle('').setValueLabels(undefined).setBackgroundFillStyle(emptyFill);\n    setBarChart(chart);\n    return () => {\n      // Destroy chart when component lifecycle ends.\n      chart.dispose();\n    };\n  }, [id, lc]);\n\n  // Update cart data whenever data prop changes\n  useEffect(() => {\n    if (!barChart || data === undefined || barChart.isDisposed()) return;\n    barChart.setDataStacked([''], [{\n      subCategory: 'Today',\n      values: [data]\n    }, {\n      subCategory: '25k',\n      values: [25000 - data]\n    }]);\n  }, [barChart, data]);\n\n  // Whenever props.barTitle changes, it is reapplied to existing chart without recreating it\n  useEffect(() => {\n    if (!barChart) return;\n    barChart.setTitle(barTitle);\n  }, [barChart, barTitle]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: id,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 10\n  }, this);\n}\n_s(BarChart, \"TTfFZLPfzJ8aTdYbe8K9aiGFQYU=\", false, function () {\n  return [useId];\n});\n_c = BarChart;\nvar _c;\n$RefreshReg$(_c, \"BarChart\");","map":{"version":3,"names":["Themes","emptyFill","useEffect","useState","useContext","useId","LCContext","TransparentCyberSpaceTheme","jsxDEV","_jsxDEV","BarChart","props","_s","data","barTitle","title","id","lc","barChart","setBarChart","undefined","container","document","getElementById","console","log","chart","theme","legend","addEntriesAutomatically","setTitle","setValueLabels","setBackgroundFillStyle","dispose","isDisposed","setDataStacked","subCategory","values","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Repos/lcjs-dashboard/frontend/src/components/charts/BarChart.jsx"],"sourcesContent":["import { Themes, emptyFill } from \"@lightningchart/lcjs\";\r\nimport { useEffect, useState, useContext, useId } from \"react\";\r\nimport { LCContext } from \"../../LC\";\r\nimport TransparentCyberSpaceTheme from \"../utils/TransparentCyberSpaceTheme.js\";\r\n\r\nexport default function BarChart(props) {\r\n  const { data } = props.data;\r\n  const barTitle = props.title;\r\n  const id = useId();  \r\n  const lc = useContext(LCContext);\r\n  const [barChart, setBarChart] = useState(undefined);\r\n  \r\n  // Create chart just once during lifecycle of component.\r\n  useEffect(() => {\r\n    const container = document.getElementById(id);\r\n    if (!container) return\r\n    if (!lc) {\r\n      console.log(\"LC context not ready yet\");\r\n      return\r\n    }\r\n\r\n    const chart = lc.BarChart({\r\n        theme: TransparentCyberSpaceTheme,\r\n        container,\r\n        legend: {\r\n          addEntriesAutomatically: false,\r\n        },\r\n    })\r\n    chart\r\n    .setTitle('')\r\n    .setValueLabels(undefined)\r\n    .setBackgroundFillStyle(emptyFill)\r\n    setBarChart(chart);\r\n    return () => {\r\n      // Destroy chart when component lifecycle ends.\r\n      chart.dispose();\r\n    };\r\n  }, [id, lc]); \r\n\r\n  // Update cart data whenever data prop changes\r\n  useEffect(() => {\r\n    if (!barChart || data === undefined || barChart.isDisposed()) return    \r\n    barChart\r\n    .setDataStacked(\r\n      [''],\r\n      [\r\n          { subCategory: 'Today', values: [data] },\r\n          { subCategory: '25k', values: [25000 - data] },\r\n      ],\r\n    )\r\n  }, [barChart, data]); \r\n\r\n  // Whenever props.barTitle changes, it is reapplied to existing chart without recreating it\r\n  useEffect(() => {\r\n    if (!barChart) return\r\n    barChart.setTitle(barTitle)\r\n  }, [barChart, barTitle]);\r\n\r\n  return <div id={id} style={{ width: \"100%\", height: \"100%\" }}></div>;\r\n\r\n}"],"mappings":";;AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,sBAAsB;AACxD,SAASC,SAAS,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,KAAK,QAAQ,OAAO;AAC9D,SAASC,SAAS,QAAQ,UAAU;AACpC,OAAOC,0BAA0B,MAAM,wCAAwC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhF,eAAe,SAASC,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACtC,MAAM;IAAEC;EAAK,CAAC,GAAGF,KAAK,CAACE,IAAI;EAC3B,MAAMC,QAAQ,GAAGH,KAAK,CAACI,KAAK;EAC5B,MAAMC,EAAE,GAAGX,KAAK,CAAC,CAAC;EAClB,MAAMY,EAAE,GAAGb,UAAU,CAACE,SAAS,CAAC;EAChC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAACiB,SAAS,CAAC;;EAEnD;EACAlB,SAAS,CAAC,MAAM;IACd,MAAMmB,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAACP,EAAE,CAAC;IAC7C,IAAI,CAACK,SAAS,EAAE;IAChB,IAAI,CAACJ,EAAE,EAAE;MACPO,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MACvC;IACF;IAEA,MAAMC,KAAK,GAAGT,EAAE,CAACP,QAAQ,CAAC;MACtBiB,KAAK,EAAEpB,0BAA0B;MACjCc,SAAS;MACTO,MAAM,EAAE;QACNC,uBAAuB,EAAE;MAC3B;IACJ,CAAC,CAAC;IACFH,KAAK,CACJI,QAAQ,CAAC,EAAE,CAAC,CACZC,cAAc,CAACX,SAAS,CAAC,CACzBY,sBAAsB,CAAC/B,SAAS,CAAC;IAClCkB,WAAW,CAACO,KAAK,CAAC;IAClB,OAAO,MAAM;MACX;MACAA,KAAK,CAACO,OAAO,CAAC,CAAC;IACjB,CAAC;EACH,CAAC,EAAE,CAACjB,EAAE,EAAEC,EAAE,CAAC,CAAC;;EAEZ;EACAf,SAAS,CAAC,MAAM;IACd,IAAI,CAACgB,QAAQ,IAAIL,IAAI,KAAKO,SAAS,IAAIF,QAAQ,CAACgB,UAAU,CAAC,CAAC,EAAE;IAC9DhB,QAAQ,CACPiB,cAAc,CACb,CAAC,EAAE,CAAC,EACJ,CACI;MAAEC,WAAW,EAAE,OAAO;MAAEC,MAAM,EAAE,CAACxB,IAAI;IAAE,CAAC,EACxC;MAAEuB,WAAW,EAAE,KAAK;MAAEC,MAAM,EAAE,CAAC,KAAK,GAAGxB,IAAI;IAAE,CAAC,CAEpD,CAAC;EACH,CAAC,EAAE,CAACK,QAAQ,EAAEL,IAAI,CAAC,CAAC;;EAEpB;EACAX,SAAS,CAAC,MAAM;IACd,IAAI,CAACgB,QAAQ,EAAE;IACfA,QAAQ,CAACY,QAAQ,CAAChB,QAAQ,CAAC;EAC7B,CAAC,EAAE,CAACI,QAAQ,EAAEJ,QAAQ,CAAC,CAAC;EAExB,oBAAOL,OAAA;IAAKO,EAAE,EAAEA,EAAG;IAACsB,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAO;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAEtE;AAAChC,EAAA,CAvDuBF,QAAQ;EAAA,QAGnBL,KAAK;AAAA;AAAAwC,EAAA,GAHMnC,QAAQ;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}