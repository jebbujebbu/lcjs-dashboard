{"ast":null,"code":"// Helper function to calculate average sleep stages from array of sleep data\nexport default function calcSleepAverages(sleepArray) {\n  console.log(\"calcSleepAverages called with sleepArray.length:\", sleepArray.length);\n  if (sleepArray.length === 0) {\n    console.log(\"calcSleepAverages: No sleep data, returning []\");\n    return [];\n  }\n  console.log(\"calcSleepAverages: sleepArray[0]:\", sleepArray[0]);\n\n  // Sum minutes\n  const totals = sleepArray.reduce((acc, night) => {\n    if (night.sleep) {\n      var _night$sleep$deep, _night$sleep$light, _night$sleep$rem;\n      acc.deep += ((_night$sleep$deep = night.sleep.deep) === null || _night$sleep$deep === void 0 ? void 0 : _night$sleep$deep.minutes) || 0;\n      acc.light += ((_night$sleep$light = night.sleep.light) === null || _night$sleep$light === void 0 ? void 0 : _night$sleep$light.minutes) || 0;\n      acc.rem += ((_night$sleep$rem = night.sleep.rem) === null || _night$sleep$rem === void 0 ? void 0 : _night$sleep$rem.minutes) || 0;\n      // ignore wake\n    }\n    return acc;\n  }, {\n    deep: 0,\n    light: 0,\n    rem: 0\n  });\n  const count = sleepArray.length;\n\n  // Average minutes\n  const averages = {\n    deep: Math.round(totals.deep / count),\n    light: Math.round(totals.light / count),\n    rem: Math.round(totals.rem / count)\n  };\n\n  // Convert to PieChart format\n  return [{\n    name: \"Deep\",\n    value: averages.deep\n  }, {\n    name: \"Light\",\n    value: averages.light\n  }, {\n    name: \"REM\",\n    value: averages.rem\n  }];\n}","map":{"version":3,"names":["calcSleepAverages","sleepArray","console","log","length","totals","reduce","acc","night","sleep","_night$sleep$deep","_night$sleep$light","_night$sleep$rem","deep","minutes","light","rem","count","averages","Math","round","name","value"],"sources":["D:/Repos/lcjs-dashboard/frontend/src/utils/calcSleepAverages.js"],"sourcesContent":["// Helper function to calculate average sleep stages from array of sleep data\r\nexport default function calcSleepAverages(sleepArray) {\r\n  console.log(\"calcSleepAverages called with sleepArray.length:\", sleepArray.length)\r\n  if (sleepArray.length === 0) {\r\n    console.log(\"calcSleepAverages: No sleep data, returning []\")\r\n    return []\r\n  }\r\n\r\n  console.log(\"calcSleepAverages: sleepArray[0]:\", sleepArray[0])\r\n\r\n  // Sum minutes\r\n  const totals = sleepArray.reduce(\r\n    (acc, night) => {\r\n      if (night.sleep) {\r\n        acc.deep += night.sleep.deep?.minutes || 0\r\n        acc.light += night.sleep.light?.minutes || 0\r\n        acc.rem += night.sleep.rem?.minutes || 0\r\n        // ignore wake\r\n      }\r\n      return acc\r\n    },\r\n    { deep: 0, light: 0, rem: 0 }\r\n  )\r\n\r\n  const count = sleepArray.length\r\n\r\n  // Average minutes\r\n  const averages = {\r\n    deep: Math.round(totals.deep / count),\r\n    light: Math.round(totals.light / count),\r\n    rem: Math.round(totals.rem / count)\r\n  }\r\n\r\n  // Convert to PieChart format\r\n  return [\r\n    { name: \"Deep\", value: averages.deep },\r\n    { name: \"Light\", value: averages.light },\r\n    { name: \"REM\", value: averages.rem }\r\n  ]\r\n}\r\n"],"mappings":"AAAA;AACA,eAAe,SAASA,iBAAiBA,CAACC,UAAU,EAAE;EACpDC,OAAO,CAACC,GAAG,CAAC,kDAAkD,EAAEF,UAAU,CAACG,MAAM,CAAC;EAClF,IAAIH,UAAU,CAACG,MAAM,KAAK,CAAC,EAAE;IAC3BF,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;IAC7D,OAAO,EAAE;EACX;EAEAD,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEF,UAAU,CAAC,CAAC,CAAC,CAAC;;EAE/D;EACA,MAAMI,MAAM,GAAGJ,UAAU,CAACK,MAAM,CAC9B,CAACC,GAAG,EAAEC,KAAK,KAAK;IACd,IAAIA,KAAK,CAACC,KAAK,EAAE;MAAA,IAAAC,iBAAA,EAAAC,kBAAA,EAAAC,gBAAA;MACfL,GAAG,CAACM,IAAI,IAAI,EAAAH,iBAAA,GAAAF,KAAK,CAACC,KAAK,CAACI,IAAI,cAAAH,iBAAA,uBAAhBA,iBAAA,CAAkBI,OAAO,KAAI,CAAC;MAC1CP,GAAG,CAACQ,KAAK,IAAI,EAAAJ,kBAAA,GAAAH,KAAK,CAACC,KAAK,CAACM,KAAK,cAAAJ,kBAAA,uBAAjBA,kBAAA,CAAmBG,OAAO,KAAI,CAAC;MAC5CP,GAAG,CAACS,GAAG,IAAI,EAAAJ,gBAAA,GAAAJ,KAAK,CAACC,KAAK,CAACO,GAAG,cAAAJ,gBAAA,uBAAfA,gBAAA,CAAiBE,OAAO,KAAI,CAAC;MACxC;IACF;IACA,OAAOP,GAAG;EACZ,CAAC,EACD;IAAEM,IAAI,EAAE,CAAC;IAAEE,KAAK,EAAE,CAAC;IAAEC,GAAG,EAAE;EAAE,CAC9B,CAAC;EAED,MAAMC,KAAK,GAAGhB,UAAU,CAACG,MAAM;;EAE/B;EACA,MAAMc,QAAQ,GAAG;IACfL,IAAI,EAAEM,IAAI,CAACC,KAAK,CAACf,MAAM,CAACQ,IAAI,GAAGI,KAAK,CAAC;IACrCF,KAAK,EAAEI,IAAI,CAACC,KAAK,CAACf,MAAM,CAACU,KAAK,GAAGE,KAAK,CAAC;IACvCD,GAAG,EAAEG,IAAI,CAACC,KAAK,CAACf,MAAM,CAACW,GAAG,GAAGC,KAAK;EACpC,CAAC;;EAED;EACA,OAAO,CACL;IAAEI,IAAI,EAAE,MAAM;IAAEC,KAAK,EAAEJ,QAAQ,CAACL;EAAK,CAAC,EACtC;IAAEQ,IAAI,EAAE,OAAO;IAAEC,KAAK,EAAEJ,QAAQ,CAACH;EAAM,CAAC,EACxC;IAAEM,IAAI,EAAE,KAAK;IAAEC,KAAK,EAAEJ,QAAQ,CAACF;EAAI,CAAC,CACrC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}