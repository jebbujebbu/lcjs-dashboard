{"ast":null,"code":"// utils/getInitialData.js\nimport calcActivityScore from './calcActivityScore.js';\nimport calcSleepAverages from './calcSleepAverages.js';\nimport calcWellnessIndex from './calcWellnessIndex.js';\n\n// Now accepts sleepSeries separately\nexport default function getInitialData(minuteSeries, hourSeries, daySeries, sleepSeries) {\n  var _lastSleep$sleep, _lastSleep$sleep2;\n  const lastDate = \"2022-01-21\";\n\n  // ---- Sleep data (from sleepSeries) ----\n  console.log(\"getInitialData: Looking for date:\", lastDate);\n  console.log(\"getInitialData: sleepSeries length:\", sleepSeries === null || sleepSeries === void 0 ? void 0 : sleepSeries.length);\n  console.log(\"getInitialData: sleepSeries sample:\", sleepSeries === null || sleepSeries === void 0 ? void 0 : sleepSeries.slice(0, 3));\n  const lastSleep = sleepSeries === null || sleepSeries === void 0 ? void 0 : sleepSeries.find(day => day.date === lastDate);\n  console.log(\"getInitialData: lastSleep found:\", lastSleep);\n  console.log(\"getInitialData: lastSleep.sleep:\", lastSleep === null || lastSleep === void 0 ? void 0 : lastSleep.sleep);\n  console.log(\"getInitialData: deep stage data:\", lastSleep === null || lastSleep === void 0 ? void 0 : (_lastSleep$sleep = lastSleep.sleep) === null || _lastSleep$sleep === void 0 ? void 0 : _lastSleep$sleep.deep);\n  console.log(\"getInitialData: light stage data:\", lastSleep === null || lastSleep === void 0 ? void 0 : (_lastSleep$sleep2 = lastSleep.sleep) === null || _lastSleep$sleep2 === void 0 ? void 0 : _lastSleep$sleep2.light);\n\n  // Convert the sleep stage structure to the expected format for SpanChart\n  let currentStages = [];\n  console.log(\"getInitialData: Starting sleep stage conversion...\");\n  console.log(\"getInitialData: lastSleep?.sleep exists:\", !!(lastSleep !== null && lastSleep !== void 0 && lastSleep.sleep));\n  if (lastSleep !== null && lastSleep !== void 0 && lastSleep.sleep) {\n    const sleepData = lastSleep.sleep;\n    const stages = ['deep', 'light', 'rem', 'wake'];\n    console.log(\"getInitialData: sleepData:\", sleepData);\n\n    // Calculate total sleep time for proportional distribution\n    const totalMinutes = stages.reduce((sum, stage) => {\n      var _sleepData$stage;\n      const minutes = ((_sleepData$stage = sleepData[stage]) === null || _sleepData$stage === void 0 ? void 0 : _sleepData$stage.minutes) || 0;\n      console.log(`getInitialData: ${stage} minutes:`, minutes);\n      return sum + minutes;\n    }, 0);\n    console.log(\"getInitialData: Total sleep minutes:\", totalMinutes);\n\n    // Convert minutes to hours for the chart (assuming 8 hour sleep window: 22:00 to 06:00)\n    const sleepStartHour = 22; // 10 PM\n    let currentHour = sleepStartHour;\n    console.log(\"getInitialData: About to filter and map stages...\");\n    currentStages = stages.filter(stage => {\n      const hasStage = sleepData[stage] && sleepData[stage].minutes > 0;\n      console.log(`getInitialData: ${stage} passed filter:`, hasStage, sleepData[stage]);\n      return hasStage;\n    }).map(stage => {\n      console.log(`getInitialData: Processing ${stage}...`);\n      const stageData = sleepData[stage];\n      const stageHours = stageData.minutes / 60;\n\n      // Create spans based on stage count and duration\n      const spans = [];\n      const hoursPerSpan = stageHours / Math.max(1, stageData.count);\n      console.log(`getInitialData: ${stage} - hoursPerSpan:`, hoursPerSpan, \"count:\", stageData.count);\n      for (let i = 0; i < stageData.count; i++) {\n        const startHour = currentHour;\n        const endHour = currentHour + hoursPerSpan;\n        spans.push([startHour, endHour]);\n        currentHour = endHour + 0.1; // Small gap between spans\n        console.log(`getInitialData: ${stage} span ${i}:`, [startHour, endHour]);\n      }\n      console.log(`getInitialData: ${stage} - ${stageData.minutes} mins (${stageHours.toFixed(1)}h), ${stageData.count} periods, spans:`, spans);\n      return {\n        stage: stage,\n        spans: spans\n      };\n    });\n  }\n  console.log(\"getInitialData: currentStages (converted):\", currentStages);\n\n  // Get last 7 nights of sleep\n  const lastDayDate = new Date(lastDate + 'T00:00:00Z');\n  const sevenDaysAgo = new Date(lastDayDate.getTime() - 6 * 24 * 60 * 60 * 1000);\n  const last7Nights = (sleepSeries || []).filter(day => {\n    const d = new Date(day.date + 'T00:00:00Z');\n    return d >= sevenDaysAgo && d <= lastDayDate && day.sleep;\n  });\n\n  // console.log(\"getInitialData: lastDate:\", lastDate);\n  // console.log(\"getInitialData: sevenDaysAgo:\", sevenDaysAgo.toISOString());\n  // console.log(\"getInitialData: lastDayDate:\", lastDayDate.toISOString());\n  // console.log(\"getInitialData: sleepSeries.length:\", sleepSeries?.length);\n  // console.log(\"getInitialData: first few sleepSeries dates:\", sleepSeries?.slice(0, 5).map(s => s.date));\n  // console.log(\"getInitialData: last few sleepSeries dates:\", sleepSeries?.slice(-5).map(s => s.date));\n  // console.log(\"getInitialData: last7Nights.length:\", last7Nights.length);\n\n  const avgStages = calcSleepAverages(last7Nights);\n\n  // ---- Activity data (from daySeries + minuteSeries) ----\n  const last7Days = daySeries.filter(day => {\n    const d = new Date(day.date + 'T00:00:00Z');\n    return d >= sevenDaysAgo && d <= lastDayDate;\n  });\n  const last7DaysMinuteData = minuteSeries.filter(record => {\n    const recordDate = record.timestamp.split('T')[0];\n    return last7Days.some(day => day.date === recordDate);\n  });\n  const dailyHourlyTotals = {};\n  last7DaysMinuteData.forEach(record => {\n    const day = record.timestamp.split('T')[0];\n    const hour = parseInt(record.timestamp.slice(11, 13));\n    if (!dailyHourlyTotals[day]) dailyHourlyTotals[day] = {};\n    if (!dailyHourlyTotals[day][hour]) dailyHourlyTotals[day][hour] = {\n      calories: 0,\n      steps: 0\n    };\n    dailyHourlyTotals[day][hour].calories += record.calories || 0;\n    dailyHourlyTotals[day][hour].steps += record.steps || 0;\n  });\n  const activity = Object.entries(dailyHourlyTotals).sort(([a], [b]) => a.localeCompare(b)).map(([date, hourlyTotals]) => {\n    const hourlyScores = {\n      low: 0,\n      medium: 0,\n      high: 0\n    };\n    const totalHours = Object.keys(hourlyTotals).length;\n    Object.values(hourlyTotals).forEach(hourData => {\n      const score = calcActivityScore(hourData.calories, hourData.steps);\n      hourlyScores[score]++;\n    });\n    return {\n      date,\n      low: Math.round(hourlyScores.low / totalHours * 100),\n      medium: Math.round(hourlyScores.medium / totalHours * 100),\n      high: Math.round(hourlyScores.high / totalHours * 100),\n      totalHours\n    };\n  });\n\n  // ---- Wellness index ----\n  const lastDayMinuteData = minuteSeries.filter(record => (record === null || record === void 0 ? void 0 : record.timestamp) && record.timestamp.startsWith(lastDate));\n  const lastDayHourData = hourSeries.filter(record => (record === null || record === void 0 ? void 0 : record.timestamp) && record.timestamp.startsWith(lastDate));\n  const wellness = calcWellnessIndex(lastDayMinuteData, currentStages, lastDayHourData);\n  return {\n    currentStages,\n    avgStages,\n    activity,\n    wellness\n  };\n}","map":{"version":3,"names":["calcActivityScore","calcSleepAverages","calcWellnessIndex","getInitialData","minuteSeries","hourSeries","daySeries","sleepSeries","_lastSleep$sleep","_lastSleep$sleep2","lastDate","console","log","length","slice","lastSleep","find","day","date","sleep","deep","light","currentStages","sleepData","stages","totalMinutes","reduce","sum","stage","_sleepData$stage","minutes","sleepStartHour","currentHour","filter","hasStage","map","stageData","stageHours","spans","hoursPerSpan","Math","max","count","i","startHour","endHour","push","toFixed","lastDayDate","Date","sevenDaysAgo","getTime","last7Nights","d","avgStages","last7Days","last7DaysMinuteData","record","recordDate","timestamp","split","some","dailyHourlyTotals","forEach","hour","parseInt","calories","steps","activity","Object","entries","sort","a","b","localeCompare","hourlyTotals","hourlyScores","low","medium","high","totalHours","keys","values","hourData","score","round","lastDayMinuteData","startsWith","lastDayHourData","wellness"],"sources":["D:/Repos/lcjs-dashboard/frontend/src/utils/getInitialData.js"],"sourcesContent":["// utils/getInitialData.js\r\nimport calcActivityScore from './calcActivityScore.js';\r\nimport calcSleepAverages from './calcSleepAverages.js';\r\nimport calcWellnessIndex from './calcWellnessIndex.js';\r\n\r\n// Now accepts sleepSeries separately\r\nexport default function getInitialData(minuteSeries, hourSeries, daySeries, sleepSeries) {\r\n  const lastDate = \"2022-01-21\";\r\n\r\n  // ---- Sleep data (from sleepSeries) ----\r\n  console.log(\"getInitialData: Looking for date:\", lastDate);\r\n  console.log(\"getInitialData: sleepSeries length:\", sleepSeries?.length);\r\n  console.log(\"getInitialData: sleepSeries sample:\", sleepSeries?.slice(0, 3));\r\n  \r\n  const lastSleep = sleepSeries?.find(day => day.date === lastDate);\r\n  console.log(\"getInitialData: lastSleep found:\", lastSleep);\r\n  console.log(\"getInitialData: lastSleep.sleep:\", lastSleep?.sleep);\r\n  console.log(\"getInitialData: deep stage data:\", lastSleep?.sleep?.deep);\r\n  console.log(\"getInitialData: light stage data:\", lastSleep?.sleep?.light);\r\n  \r\n  // Convert the sleep stage structure to the expected format for SpanChart\r\n  let currentStages = [];\r\n  console.log(\"getInitialData: Starting sleep stage conversion...\");\r\n  console.log(\"getInitialData: lastSleep?.sleep exists:\", !!lastSleep?.sleep);\r\n  \r\n  if (lastSleep?.sleep) {\r\n    const sleepData = lastSleep.sleep;\r\n    const stages = ['deep', 'light', 'rem', 'wake'];\r\n    console.log(\"getInitialData: sleepData:\", sleepData);\r\n    \r\n    // Calculate total sleep time for proportional distribution\r\n    const totalMinutes = stages.reduce((sum, stage) => {\r\n      const minutes = sleepData[stage]?.minutes || 0;\r\n      console.log(`getInitialData: ${stage} minutes:`, minutes);\r\n      return sum + minutes;\r\n    }, 0);\r\n    \r\n    console.log(\"getInitialData: Total sleep minutes:\", totalMinutes);\r\n    \r\n    // Convert minutes to hours for the chart (assuming 8 hour sleep window: 22:00 to 06:00)\r\n    const sleepStartHour = 22; // 10 PM\r\n    let currentHour = sleepStartHour;\r\n    \r\n    console.log(\"getInitialData: About to filter and map stages...\");\r\n    currentStages = stages\r\n      .filter(stage => {\r\n        const hasStage = sleepData[stage] && sleepData[stage].minutes > 0;\r\n        console.log(`getInitialData: ${stage} passed filter:`, hasStage, sleepData[stage]);\r\n        return hasStage;\r\n      })\r\n      .map(stage => {\r\n        console.log(`getInitialData: Processing ${stage}...`);\r\n        const stageData = sleepData[stage];\r\n        const stageHours = stageData.minutes / 60;\r\n        \r\n        // Create spans based on stage count and duration\r\n        const spans = [];\r\n        const hoursPerSpan = stageHours / Math.max(1, stageData.count);\r\n        \r\n        console.log(`getInitialData: ${stage} - hoursPerSpan:`, hoursPerSpan, \"count:\", stageData.count);\r\n        \r\n        for (let i = 0; i < stageData.count; i++) {\r\n          const startHour = currentHour;\r\n          const endHour = currentHour + hoursPerSpan;\r\n          spans.push([startHour, endHour]);\r\n          currentHour = endHour + 0.1; // Small gap between spans\r\n          console.log(`getInitialData: ${stage} span ${i}:`, [startHour, endHour]);\r\n        }\r\n        \r\n        console.log(`getInitialData: ${stage} - ${stageData.minutes} mins (${stageHours.toFixed(1)}h), ${stageData.count} periods, spans:`, spans);\r\n        \r\n        return {\r\n          stage: stage,\r\n          spans: spans\r\n        };\r\n      });\r\n  }\r\n  \r\n  console.log(\"getInitialData: currentStages (converted):\", currentStages);\r\n\r\n  // Get last 7 nights of sleep\r\n  const lastDayDate = new Date(lastDate + 'T00:00:00Z');\r\n  const sevenDaysAgo = new Date(lastDayDate.getTime() - (6 * 24 * 60 * 60 * 1000));\r\n\r\n  const last7Nights = (sleepSeries || []).filter(day => {\r\n    const d = new Date(day.date + 'T00:00:00Z');\r\n    return d >= sevenDaysAgo && d <= lastDayDate && day.sleep;\r\n  });\r\n\r\n  // console.log(\"getInitialData: lastDate:\", lastDate);\r\n  // console.log(\"getInitialData: sevenDaysAgo:\", sevenDaysAgo.toISOString());\r\n  // console.log(\"getInitialData: lastDayDate:\", lastDayDate.toISOString());\r\n  // console.log(\"getInitialData: sleepSeries.length:\", sleepSeries?.length);\r\n  // console.log(\"getInitialData: first few sleepSeries dates:\", sleepSeries?.slice(0, 5).map(s => s.date));\r\n  // console.log(\"getInitialData: last few sleepSeries dates:\", sleepSeries?.slice(-5).map(s => s.date));\r\n  // console.log(\"getInitialData: last7Nights.length:\", last7Nights.length);\r\n\r\n  const avgStages = calcSleepAverages(last7Nights);\r\n\r\n  // ---- Activity data (from daySeries + minuteSeries) ----\r\n  const last7Days = daySeries.filter(day => {\r\n    const d = new Date(day.date + 'T00:00:00Z');\r\n    return d >= sevenDaysAgo && d <= lastDayDate;\r\n  });\r\n\r\n  const last7DaysMinuteData = minuteSeries.filter(record => {\r\n    const recordDate = record.timestamp.split('T')[0];\r\n    return last7Days.some(day => day.date === recordDate);\r\n  });\r\n\r\n  const dailyHourlyTotals = {};\r\n  last7DaysMinuteData.forEach(record => {\r\n    const day = record.timestamp.split('T')[0];\r\n    const hour = parseInt(record.timestamp.slice(11, 13));\r\n\r\n    if (!dailyHourlyTotals[day]) dailyHourlyTotals[day] = {};\r\n    if (!dailyHourlyTotals[day][hour]) dailyHourlyTotals[day][hour] = { calories: 0, steps: 0 };\r\n\r\n    dailyHourlyTotals[day][hour].calories += record.calories || 0;\r\n    dailyHourlyTotals[day][hour].steps += record.steps || 0;\r\n  });\r\n\r\n  const activity = Object.entries(dailyHourlyTotals)\r\n    .sort(([a], [b]) => a.localeCompare(b))\r\n    .map(([date, hourlyTotals]) => {\r\n      const hourlyScores = { low: 0, medium: 0, high: 0 };\r\n      const totalHours = Object.keys(hourlyTotals).length;\r\n\r\n      Object.values(hourlyTotals).forEach(hourData => {\r\n        const score = calcActivityScore(hourData.calories, hourData.steps);\r\n        hourlyScores[score]++;\r\n      });\r\n\r\n      return {\r\n        date,\r\n        low: Math.round((hourlyScores.low / totalHours) * 100),\r\n        medium: Math.round((hourlyScores.medium / totalHours) * 100),\r\n        high: Math.round((hourlyScores.high / totalHours) * 100),\r\n        totalHours\r\n      };\r\n    });\r\n\r\n  // ---- Wellness index ----\r\n  const lastDayMinuteData = minuteSeries.filter(record =>\r\n    record?.timestamp && record.timestamp.startsWith(lastDate)\r\n  );\r\n  const lastDayHourData = hourSeries.filter(record =>\r\n    record?.timestamp && record.timestamp.startsWith(lastDate)\r\n  );\r\n\r\n  const wellness = calcWellnessIndex(\r\n    lastDayMinuteData,\r\n    currentStages,\r\n    lastDayHourData\r\n  );\r\n\r\n  return {\r\n    currentStages,\r\n    avgStages,\r\n    activity,\r\n    wellness\r\n  };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}